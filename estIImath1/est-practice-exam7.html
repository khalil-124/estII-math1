<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EST II Math Level 1 - Practice Exam 7</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Times+New+Roman&family=Outfit:wght@400;600;700&display=swap"
        rel="stylesheet">
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --est-gray: #6b6b6b;
            --est-dark: #333;
            --est-light: #f5f5f5;
            --est-border: #ccc;
            --correct: #22c55e;
            --incorrect: #ef4444;
            --selected: #3b82f6;
        }

        body {
            font-family: 'Times New Roman', Georgia, serif;
            background: #fff;
            color: #000;
            line-height: 1.6;
        }

        .est-header {
            background: linear-gradient(135deg, #888 0%, #666 100%);
            padding: 15px 40px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 4px solid #333;
        }

        .est-logo {
            font-size: 2.5rem;
            font-weight: bold;
            color: #fff;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
            letter-spacing: 2px;
        }

        .est-logo span {
            color: #ddd;
        }

        .high-school {
            font-family: 'Times New Roman', serif;
            font-size: 1.5rem;
            color: #fff;
            font-style: italic;
            letter-spacing: 3px;
        }

        .timer-bar {
            background: linear-gradient(135deg, #1e3a5f 0%, #0f2540 100%);
            padding: 12px 40px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: #fff;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        }

        .timer {
            font-family: 'Outfit', sans-serif;
            font-size: 1.5rem;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .timer-icon {
            font-size: 1.2rem;
        }

        .timer.warning {
            color: #fbbf24;
            animation: pulse 1s infinite;
        }

        @keyframes pulse {

            0%,
            100% {
                opacity: 1;
            }

            50% {
                opacity: 0.5;
            }
        }

        .progress-info {
            font-family: 'Outfit', sans-serif;
            font-size: 1rem;
        }

        .cover-page {
            max-width: 800px;
            margin: 0 auto;
            padding: 60px 40px;
            text-align: center;
        }

        .cover-title {
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 10px;
            color: #333;
        }

        .cover-subtitle {
            font-size: 1.8rem;
            color: #666;
            margin-bottom: 40px;
        }

        .cover-info {
            background: #f5f5f5;
            border: 2px solid #ccc;
            padding: 30px;
            margin: 30px 0;
            text-align: left;
        }

        .cover-info h3 {
            margin-bottom: 15px;
            color: #333;
        }

        .cover-info p {
            margin: 10px 0;
            font-size: 1.1rem;
        }

        .start-btn {
            background: linear-gradient(135deg, #1e3a5f 0%, #0f2540 100%);
            color: white;
            border: none;
            padding: 20px 60px;
            font-size: 1.3rem;
            font-family: 'Outfit', sans-serif;
            font-weight: 600;
            cursor: pointer;
            border-radius: 8px;
            transition: transform 0.2s, box-shadow 0.2s;
            margin-top: 30px;
        }

        .start-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
        }

        .exam-container {
            display: none;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px 40px;
        }

        .exam-container.active {
            display: flex;
            gap: 30px;
        }

        .questions-section {
            flex: 1;
        }

        .navigator-section {
            width: 200px;
            position: sticky;
            top: 80px;
            height: fit-content;
        }

        .question-container {
            background: #fff;
            border: 1px solid #ddd;
            padding: 25px;
            margin-bottom: 25px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        }

        .question-header {
            display: flex;
            align-items: flex-start;
            gap: 15px;
            margin-bottom: 20px;
        }

        .question-number {
            background: #333;
            color: white;
            width: 35px;
            height: 35px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            font-weight: bold;
            font-size: 0.9rem;
            flex-shrink: 0;
        }

        .question-text {
            font-size: 1.1rem;
            line-height: 1.7;
            flex: 1;
        }

        .graph-container {
            margin: 20px 0;
            text-align: center;
            background: #fff;
            border: 1px solid #ddd;
            padding: 15px;
            border-radius: 8px;
        }

        .graph-container img {
            max-width: 100%;
            height: auto;
            max-height: 300px;
        }

        .options-list {
            list-style: none;
            margin-top: 15px;
        }

        .option-item {
            display: flex;
            align-items: center;
            padding: 12px 15px;
            margin: 8px 0;
            border: 2px solid #ddd;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .option-item:hover {
            background: #f5f5f5;
            border-color: #999;
        }

        .option-item.selected {
            background: #e0e7ff;
            border-color: var(--selected);
        }

        .option-item.correct {
            background: #dcfce7;
            border-color: var(--correct);
        }

        .option-item.incorrect {
            background: #fee2e2;
            border-color: var(--incorrect);
        }

        .option-letter {
            font-weight: bold;
            margin-right: 15px;
            width: 25px;
            height: 25px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 2px solid currentColor;
            border-radius: 50%;
            font-size: 0.85rem;
        }

        .option-text {
            flex: 1;
        }

        .explanation-box {
            display: none;
            background: #f0fdf4;
            border: 1px solid #86efac;
            border-radius: 8px;
            padding: 15px;
            margin-top: 15px;
        }

        .explanation-box.show {
            display: block;
        }

        .explanation-title {
            font-weight: bold;
            color: #166534;
            margin-bottom: 8px;
        }

        .explanation-step {
            display: flex;
            gap: 10px;
            margin: 8px 0;
            align-items: flex-start;
        }

        .step-num {
            background: #166534;
            color: white;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.75rem;
            flex-shrink: 0;
        }

        .navigator-title {
            font-family: 'Outfit', sans-serif;
            font-weight: 600;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #333;
        }

        .navigator-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 5px;
        }

        .nav-item {
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 1px solid #ccc;
            border-radius: 4px;
            font-size: 0.8rem;
            cursor: pointer;
            transition: all 0.2s;
            background: white;
        }

        .nav-item:hover {
            background: #f0f0f0;
        }

        .nav-item.answered {
            background: #3b82f6;
            color: white;
            border-color: #3b82f6;
        }

        .nav-item.current {
            border: 2px solid #333;
            font-weight: bold;
        }

        .nav-item.correct-review {
            background: var(--correct);
            color: white;
        }

        .nav-item.incorrect-review {
            background: var(--incorrect);
            color: white;
        }

        .submit-section {
            text-align: center;
            padding: 30px;
            margin-top: 20px;
        }

        .submit-btn {
            background: linear-gradient(135deg, #059669 0%, #047857 100%);
            color: white;
            border: none;
            padding: 15px 50px;
            font-size: 1.2rem;
            font-family: 'Outfit', sans-serif;
            font-weight: 600;
            cursor: pointer;
            border-radius: 8px;
            transition: transform 0.2s;
        }

        .submit-btn:hover {
            transform: translateY(-2px);
        }

        .results-container {
            display: none;
            max-width: 600px;
            margin: 50px auto;
            padding: 40px;
            text-align: center;
            background: #f5f5f5;
            border-radius: 12px;
        }

        .results-container.active {
            display: block;
        }

        .score-circle {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            background: linear-gradient(135deg, #1e3a5f 0%, #0f2540 100%);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            margin: 0 auto 30px;
            color: white;
        }

        .score-number {
            font-size: 2.5rem;
            font-weight: bold;
        }

        .score-label {
            font-size: 0.9rem;
            opacity: 0.8;
        }

        .results-details {
            margin: 30px 0;
        }

        .result-row {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid #ddd;
        }

        .review-btn {
            background: var(--selected);
            color: white;
            border: none;
            padding: 12px 40px;
            font-size: 1rem;
            font-family: 'Outfit', sans-serif;
            cursor: pointer;
            border-radius: 8px;
            margin-top: 20px;
        }

        .est-footer {
            background: #333;
            color: #fff;
            padding: 15px 40px;
            display: flex;
            justify-content: space-between;
            margin-top: 40px;
        }
    </style>
</head>

<body>
    <header class="est-header">
        <div class="est-logo">est<span>°</span></div>
        <div class="high-school">HIGH SCHOOL</div>
    </header>

    <div class="cover-page" id="coverPage">
        <h1 class="cover-title">EST II Mathematics</h1>
        <h2 class="cover-subtitle">Level 1 - Practice Exam 7</h2>

        <div class="cover-info">
            <h3>Exam Information</h3>
            <p><strong>Total Questions:</strong> 40 multiple-choice questions</p>
            <p><strong>Time Allowed:</strong> 60 minutes</p>
            <p><strong>Calculator:</strong> Scientific or graphing calculators are permitted</p>
            <p><strong>Scoring:</strong> Each correct answer is worth 1 point</p>
        </div>

        <div class="cover-info">
            <h3>Instructions</h3>
            <p>• Read each question carefully before selecting your answer</p>
            <p>• You may skip questions and return to them later</p>
            <p>• Use the question navigator to track your progress</p>
            <p>• Click "Submit Exam" when you are finished</p>
        </div>

        <button class="start-btn" onclick="startExam()">Start Exam</button>
    </div>

    <div class="timer-bar" id="timerBar" style="display: none;">
        <div class="timer" id="timer">
            <span class="timer-icon">⏱</span>
            <span id="timeDisplay">60:00</span>
        </div>
        <div class="progress-info">
            <span id="answeredCount">0</span> / 40 Answered
        </div>
    </div>

    <div class="exam-container" id="examContainer">
        <div class="questions-section" id="questionsSection"></div>
        <div class="navigator-section">
            <div class="navigator-title">Questions</div>
            <div class="navigator-grid" id="navigatorGrid"></div>
        </div>
    </div>

    <div class="results-container" id="resultsContainer">
        <h2>Exam Complete!</h2>
        <div class="score-circle">
            <div class="score-number" id="scoreNumber">0</div>
            <div class="score-label">out of 40</div>
        </div>
        <div class="results-details">
            <div class="result-row">
                <span>Correct Answers:</span>
                <span id="correctCount">0</span>
            </div>
            <div class="result-row">
                <span>Incorrect Answers:</span>
                <span id="incorrectCount">0</span>
            </div>
            <div class="result-row">
                <span>Unanswered:</span>
                <span id="unansweredCount">0</span>
            </div>
            <div class="result-row">
                <span>Percentage:</span>
                <span id="percentageScore">0%</span>
            </div>
        </div>
        <button class="review-btn" onclick="reviewAnswers()">Review Answers</button>
    </div>

    <footer class="est-footer">
        <span>ESTII-HS Math L1</span>
        <span>Practice Exam 7</span>
        <span>2026</span>
    </footer>

    <script>
        const questions = [
            // ===== Q1-11: ALGEBRA & FUNCTIONS (27.5%) =====
            {
                id: 1,
                question: "The graph of f(x) shows a parabola with vertex at (2, 4). How many points of intersection are there between f(x) and the line y = -5?",
                hasGraph: true,
                graphImage: "images/ex7_q1_parabola.png",
                options: ["0", "1", "2", "3", "Infinitely many"],
                answer: 2,
                explanation: ["From the graph, f(x) is a downward parabola with vertex (2, 4).", "The line y = -5 is horizontal, below the x-axis.", "The parabola extends downward and will cross y = -5 at two points.", "Algebraically: -(x-2)² + 4 = -5 gives (x-2)² = 9, x = -1 or 5.", "The answer is C: 2."]
            },
            {
                id: 2,
                question: "If \\(f(x) = x^2 - 2x\\) and \\(g(x) = x + 3\\), what is \\(f(g(-1))\\)?",
                options: ["0", "3", "8", "12", "15"],
                answer: 0,
                explanation: ["First: g(-1) = -1 + 3 = 2.", "Then: f(g(-1)) = f(2) = 4 - 4 = 0.", "Function composition in order.", "Don't confuse f(g(x)) with g(f(x)).", "The answer is A: 0."]
            },
            {
                id: 3,
                question: "The sum of the roots of \\(2x^2 - 7x + 3 = 0\\) is:",
                options: ["3/2", "7/2", "3", "7", "-7/2"],
                answer: 1,
                explanation: ["By Vieta's formulas: sum = -b/a.", "sum = -(-7)/2 = 7/2.", "No need to find individual roots!", "Product would be c/a = 3/2.", "The answer is B: 7/2."]
            },
            {
                id: 4,
                question: "If \\(27^x = 9^{x+1}\\), what is x?",
                options: ["1", "2", "3", "4", "6"],
                answer: 1,
                explanation: ["(3³)^x = (3²)^(x+1).", "3^(3x) = 3^(2x+2).", "3x = 2x + 2.", "x = 2.", "The answer is B: 2."]
            },
            {
                id: 5,
                question: "If \\(f(x) = ax^2 + bx + c\\) has vertex at (2, -3) and passes through (0, 5), what is a?",
                options: ["1", "2", "3", "4", "5"],
                answer: 1,
                explanation: ["Vertex form: f(x) = a(x-2)² - 3.", "At (0,5): 5 = a(0-2)² - 3.", "5 = 4a - 3, so 4a = 8.", "a = 2.", "The answer is B: 2."]
            },
            {
                id: 6,
                question: "If \\(\\frac{1}{x} + \\frac{1}{y} = 5\\) and xy = 2, what is x + y?",
                options: ["2", "5", "7", "10", "12"],
                answer: 3,
                explanation: ["1/x + 1/y = (x+y)/(xy) = 5.", "(x+y)/2 = 5.", "x + y = 10.", "Algebraic manipulation.", "The answer is D: 10."]
            },
            {
                id: 7,
                question: "The quadratic \\(x^2 + bx + 16 = 0\\) has exactly one solution. What is |b|?",
                options: ["4", "8", "16", "32", "64"],
                answer: 1,
                explanation: ["One solution means discriminant = 0.", "b² - 4ac = 0.", "b² - 64 = 0.", "b² = 64, |b| = 8.", "The answer is B: 8."]
            },
            {
                id: 8,
                question: "If \\(|2x - 3| < 5\\), which is the solution set?",
                options: ["x < 4", "-1 < x < 4", "x > -1", "-4 < x < 1", "x < -1 or x > 4"],
                answer: 1,
                explanation: ["|2x - 3| < 5 means -5 < 2x - 3 < 5.", "Add 3: -2 < 2x < 8.", "Divide by 2: -1 < x < 4.", "Compound inequality.", "The answer is B: -1 < x < 4."]
            },
            {
                id: 9,
                question: "If \\(f(x) = 2x + 1\\) and \\(f(f(k)) = 15\\), what is k?",
                options: ["3", "4", "5", "6", "7"],
                answer: 0,
                explanation: ["f(k) = 2k + 1.", "f(f(k)) = f(2k+1) = 2(2k+1) + 1.", "= 4k + 2 + 1 = 4k + 3 = 15.", "4k = 12, k = 3.", "The answer is A: 3."]
            },
            {
                id: 10,
                question: "For which value of k does \\(kx^2 - 4x + 1 = 0\\) have equal roots?",
                options: ["1", "2", "4", "8", "16"],
                answer: 2,
                explanation: ["Equal roots: discriminant = 0.", "(-4)² - 4(k)(1) = 0.", "16 - 4k = 0.", "k = 4.", "The answer is C: 4."]
            },
            {
                id: 11,
                question: "If \\(f(x) = \\frac{2x-1}{x+3}\\), what value of x makes f(x) undefined?",
                options: ["-3", "-1/2", "0", "1/2", "3"],
                answer: 0,
                explanation: ["Undefined when denominator = 0.", "x + 3 = 0.", "x = -3.", "Check: 2(-3)-1 / (-3+3) = undefined.", "The answer is A: -3."]
            },
            // ===== Q12-20: GEOMETRY (22.5%) =====
            {
                id: 12,
                question: "The trapezoid shown has parallel sides 8 and 4, with height 4. What is its area?",
                hasGraph: true,
                graphImage: "images/ex7_q12_trapezoid.png",
                options: ["16", "24", "32", "48", "64"],
                answer: 1,
                explanation: ["Area = (1/2)(b₁ + b₂)(h).", "= (1/2)(8 + 4)(4).", "= (1/2)(12)(4) = 24.", "Trapezoid area formula.", "The answer is B: 24."]
            },
            {
                id: 13,
                question: "In a circle, a chord is 10 units from the center. If the radius is 26, what is the chord length?",
                options: ["24", "48", "52", "96", "100"],
                answer: 1,
                explanation: ["Perpendicular from center bisects chord.", "Half-chord² + 10² = 26².", "Half-chord² = 676 - 100 = 576.", "Half-chord = 24, full chord = 48.", "The answer is B: 48."]
            },
            {
                id: 14,
                question: "A regular octagon has how many diagonals?",
                options: ["8", "16", "20", "28", "40"],
                answer: 2,
                explanation: ["Diagonals = n(n-3)/2.", "= 8(8-3)/2 = 8(5)/2.", "= 40/2 = 20.", "Formula for diagonals.", "The answer is C: 20."]
            },
            {
                id: 15,
                question: "Two similar triangles have areas 16 and 36. If the smaller has perimeter 20, what is the larger's perimeter?",
                options: ["25", "30", "36", "45", "60"],
                answer: 1,
                explanation: ["Area ratio = 16:36 = 4:9.", "Side ratio = √(4:9) = 2:3.", "Perimeter ratio = 2:3.", "Larger perimeter = 20 × 3/2 = 30.", "The answer is B: 30."]
            },
            {
                id: 16,
                question: "In triangle ABC, AB = AC. If ∠B = 65°, what is ∠A?",
                options: ["50°", "55°", "60°", "65°", "70°"],
                answer: 0,
                explanation: ["Isosceles: ∠B = ∠C = 65°.", "Sum of angles = 180°.", "∠A = 180° - 65° - 65° = 50°.", "Base angles equal.", "The answer is A: 50°."]
            },
            {
                id: 17,
                question: "A cylinder has radius 3 and height 8. What is its lateral surface area?",
                options: ["24π", "48π", "72π", "96π", "144π"],
                answer: 1,
                explanation: ["Lateral area = 2πrh.", "= 2π(3)(8) = 48π.", "This is the curved surface only.", "Not including bases.", "The answer is B: 48π."]
            },
            {
                id: 18,
                question: "In parallelogram PQRS, if ∠P = 3x and ∠Q = 2x + 30, what is x?",
                options: ["20", "25", "30", "36", "45"],
                answer: 2,
                explanation: ["Adjacent angles supplementary.", "∠P + ∠Q = 180°.", "3x + 2x + 30 = 180.", "5x = 150, x = 30.", "The answer is C: 30."]
            },
            {
                id: 19,
                question: "Based on the pie chart, how many students chose Math as their favorite subject?",
                hasGraph: true,
                graphImage: "images/ex7_q19_piechart.png",
                options: ["30", "40", "50", "60", "75"],
                answer: 3,
                explanation: ["Math is 30% of 200 students.", "30% × 200 = 0.30 × 200 = 60.", "Read percentage from chart.", "Calculate from total.", "The answer is D: 60."]
            },
            {
                id: 20,
                question: "The area of an equilateral triangle with side 6 is:",
                options: ["9", "9√3", "18", "18√3", "36"],
                answer: 1,
                explanation: ["Area = (s²√3)/4.", "= (36√3)/4 = 9√3.", "Special formula for equilateral.", "Height = s√3/2 if needed.", "The answer is B: 9√3."]
            },
            // ===== Q21-25: COORDINATE GEOMETRY (12.5%) =====
            {
                id: 21,
                question: "Line L passes through (3, 7) and is parallel to y = -2x + 5. What is L's equation?",
                options: ["y = -2x + 13", "y = -2x + 1", "y = 2x + 1", "y = 2x + 13", "y = -2x - 13"],
                answer: 0,
                explanation: ["Parallel → same slope: m = -2.", "y - 7 = -2(x - 3).", "y = -2x + 6 + 7 = -2x + 13.", "Point-slope form.", "The answer is A: y = -2x + 13."]
            },
            {
                id: 22,
                question: "The midpoint of A(-2, 5) and B(x, -1) is M(3, 2). What is x?",
                options: ["4", "6", "8", "10", "12"],
                answer: 2,
                explanation: ["Midpoint x-coord: (-2 + x)/2 = 3.", "-2 + x = 6.", "x = 8.", "Check y: (5 + (-1))/2 = 2 ✓", "The answer is C: 8."]
            },
            {
                id: 23,
                question: "What is the area of the triangle with vertices (0,0), (6,0), and (3,4)?",
                options: ["6", "8", "10", "12", "24"],
                answer: 3,
                explanation: ["Base on x-axis: length = 6.", "Height = y-coordinate of (3,4) = 4.", "Area = (1/2)(6)(4) = 12.", "Triangle with vertex at apex.", "The answer is D: 12."]
            },
            {
                id: 24,
                question: "Circle has center (2, -3) and passes through (5, 1). What is the radius?",
                options: ["3", "4", "5", "7", "25"],
                answer: 2,
                explanation: ["r = distance from center to point.", "r = √[(5-2)² + (1-(-3))²].", "= √[9 + 16] = √25 = 5.", "Distance formula.", "The answer is C: 5."]
            },
            {
                id: 25,
                question: "At what point does the line 3x - 2y = 12 cross the y-axis?",
                options: ["(0, -6)", "(0, 6)", "(4, 0)", "(-6, 0)", "(0, -4)"],
                answer: 0,
                explanation: ["Y-intercept: set x = 0.", "3(0) - 2y = 12.", "-2y = 12, y = -6.", "Point: (0, -6).", "The answer is A: (0, -6)."]
            },
            // ===== Q26-32: STATISTICS & PROBABILITY (17.5%) =====
            {
                id: 26,
                question: "For data set S = {4, 6, 6, 8, 10, 12}, which is/are true?<br>I. Mean = Median<br>II. Mode = 6<br>III. Range = 8",
                options: ["I only", "II only", "III only", "II and III only", "I, II, and III"],
                answer: 3,
                explanation: ["Mean = 46/6 ≈ 7.67. Median = (6+8)/2 = 7.", "I: 7.67 ≠ 7 → FALSE.", "Mode = 6 (appears twice). II: TRUE.", "Range = 12-4 = 8. III: TRUE.", "The answer is D: II and III only."]
            },
            {
                id: 27,
                question: "Two cards are drawn from a standard deck without replacement. P(both aces) = ?",
                options: ["1/221", "4/663", "1/169", "1/256", "4/52"],
                answer: 0,
                explanation: ["P(1st ace) = 4/52.", "P(2nd ace | 1st ace) = 3/51.", "P(both) = (4/52)(3/51) = 12/2652.", "= 1/221.", "The answer is A: 1/221."]
            },
            {
                id: 28,
                question: "In how many ways can 4 books be arranged on a shelf if 2 specific books must not be adjacent?",
                options: ["12", "18", "24", "36", "48"],
                answer: 0,
                explanation: ["Total arrangements = 4! = 24.", "Adjacent arrangements: treat 2 as unit = 3! × 2! = 12.", "Not adjacent = 24 - 12 = 12.", "Complement method.", "The answer is A: 12."]
            },
            {
                id: 29,
                question: "A die is rolled twice. P(sum ≤ 4) = ?",
                options: ["1/12", "1/6", "5/36", "6/36", "10/36"],
                answer: 1,
                explanation: ["Sum ≤ 4: (1,1), (1,2), (1,3), (2,1), (2,2), (3,1).", "That's 6 outcomes.", "P = 6/36 = 1/6.", "List and count.", "The answer is B: 1/6."]
            },
            {
                id: 30,
                question: "If standard deviation of a data set is 5, the variance is:",
                options: ["5", "10", "25", "√5", "2.5"],
                answer: 2,
                explanation: ["Variance = (standard deviation)².", "= 5² = 25.", "σ² = 25.", "Definition relationship.", "The answer is C: 25."]
            },
            {
                id: 31,
                question: "How many 4-digit even numbers can be formed using 1, 2, 3, 4, 5 with no repetition?",
                options: ["24", "48", "60", "72", "120"],
                answer: 1,
                explanation: ["Last digit must be 2 or 4: 2 choices.", "Remaining 3 positions: 4×3×2 = 24.", "Total = 2 × 24 = 48.", "Multiplication principle.", "The answer is B: 48."]
            },
            {
                id: 32,
                question: "From the box plot shown, what is the interquartile range?",
                hasGraph: true,
                graphImage: "images/ex7_q32_boxplot.png",
                options: ["10", "15", "17", "20", "25"],
                answer: 3,
                explanation: ["IQR = Q3 - Q1.", "From box plot: Q3 ≈ 37, Q1 ≈ 17.", "IQR = 37 - 17 = 20.", "Read from box edges.", "The answer is D: 20."]
            },
            // ===== Q33-37: NUMERATIONS & OPERATIONS (12.5%) =====
            {
                id: 33,
                question: "In an arithmetic sequence, a₅ = 17 and a₉ = 33. What is a₁?",
                options: ["1", "3", "5", "7", "9"],
                answer: 0,
                explanation: ["a₉ - a₅ = 4d = 33 - 17 = 16.", "d = 4.", "a₅ = a₁ + 4d → 17 = a₁ + 16.", "a₁ = 1.", "The answer is A: 1."]
            },
            {
                id: 34,
                question: "If \\(\\sqrt{x+5} = x - 1\\), what is x?",
                options: ["2", "4", "5", "7", "9"],
                answer: 1,
                explanation: ["Square both sides: x + 5 = (x-1)².", "x + 5 = x² - 2x + 1.", "x² - 3x - 4 = 0.", "(x-4)(x+1) = 0, x = 4 or -1.", "Check: √9 = 3 = 4-1 ✓. x = -1 fails. Answer B: 4."]
            },
            {
                id: 35,
                question: "If \\(2^a = 3\\) and \\(2^b = 5\\), what is \\(2^{2a+b}\\)?",
                options: ["8", "15", "30", "45", "225"],
                answer: 3,
                explanation: ["2^(2a+b) = 2^(2a) × 2^b.", "= (2^a)² × 2^b.", "= 3² × 5 = 9 × 5 = 45.", "Exponent properties.", "The answer is D: 45."]
            },
            {
                id: 36,
                question: "The sum of an infinite geometric series is 12 with first term 8. What is r?",
                options: ["1/4", "1/3", "1/2", "2/3", "3/4"],
                answer: 1,
                explanation: ["S = a/(1-r) for |r| < 1.", "12 = 8/(1-r).", "12(1-r) = 8.", "1-r = 2/3, r = 1/3.", "The answer is B: 1/3."]
            },
            {
                id: 37,
                question: "If a worker earns $15/hour, and gets a 20% raise followed by a 10% cut, what is the new hourly rate?",
                options: ["$15.00", "$15.30", "$16.00", "$16.20", "$18.00"],
                answer: 3,
                explanation: ["After 20% raise: 15 × 1.2 = $18.", "After 10% cut: 18 × 0.9 = $16.20.", "Successive percentages.", "Not 15 × 1.1 = $16.50!", "The answer is D: $16.20."]
            },
            // ===== Q38-40: TRIGONOMETRY (7.5%) =====
            {
                id: 38,
                question: "In the right triangle shown (5-12-13), what is cos θ?",
                hasGraph: true,
                graphImage: "images/ex7_q38_triangle.png",
                options: ["5/13", "12/13", "5/12", "12/5", "13/5"],
                answer: 0,
                explanation: ["cos θ = adjacent/hypotenuse.", "Adjacent to θ is 5, hypotenuse is 13.", "cos θ = 5/13.", "CAH: Cosine = Adjacent/Hypotenuse.", "The answer is A: 5/13."]
            },
            {
                id: 39,
                question: "If sin θ = 3/5 and θ is in Quadrant II, what is tan θ?",
                options: ["-3/4", "3/4", "-4/3", "4/3", "-5/3"],
                answer: 0,
                explanation: ["sin²θ + cos²θ = 1.", "cos²θ = 1 - 9/25 = 16/25.", "In Q2, cos θ < 0, so cos θ = -4/5.", "tan θ = sin/cos = (3/5)/(-4/5) = -3/4.", "The answer is A: -3/4."]
            },
            {
                id: 40,
                question: "Which of the following equals cos(90° - θ)?<br>I. sin θ<br>II. cos θ<br>III. tan(90° - θ)",
                options: ["I only", "II only", "III only", "I and III only", "I, II, and III"],
                answer: 0,
                explanation: ["cos(90° - θ) = sin θ (cofunction identity).", "I: TRUE.", "II: cos θ ≠ sin θ generally. FALSE.", "III: tan(90° - θ) = cot θ ≠ sin θ. FALSE.", "The answer is A: I only."]
            }
        ];

        // State
        let timeRemaining = 60 * 60;
        let timerInterval = null;
        let userAnswers = new Array(40).fill(null);
        let examSubmitted = false;
        let reviewMode = false;

        function startExam() {
            document.getElementById('coverPage').style.display = 'none';
            document.getElementById('timerBar').style.display = 'flex';
            document.getElementById('examContainer').classList.add('active');
            renderQuestions();
            renderNavigator();
            startTimer();
        }

        function startTimer() {
            timerInterval = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                if (timeRemaining <= 0) {
                    clearInterval(timerInterval);
                    submitExam();
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timeDisplay').textContent =
                `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            if (timeRemaining <= 300) {
                document.getElementById('timer').classList.add('warning');
            }
        }

        function renderGraph(imagePath) {
            return `<div class="graph-container">
                <img src="${imagePath}" alt="Graph" onerror="this.style.display='none'">
            </div>`;
        }

        function renderQuestions() {
            const container = document.getElementById('questionsSection');
            let html = '';

            questions.forEach((q, index) => {
                const graphHtml = q.hasGraph ? renderGraph(q.graphImage) : '';
                const explanationSteps = q.explanation.map((step, i) =>
                    `<div class="explanation-step"><span class="step-num">${i + 1}</span><span>${step}</span></div>`
                ).join('');

                html += `
                    <div class="question-container" id="question-${q.id}">
                        <div class="question-header">
                            <div class="question-number">${q.id}</div>
                            <div class="question-text">${q.question}</div>
                        </div>
                        ${graphHtml}
                        <ul class="options-list">
                            ${q.options.map((opt, optIndex) => `
                                <li class="option-item" data-question="${index}" data-option="${optIndex}" onclick="selectOption(${index}, ${optIndex})">
                                    <span class="option-letter">${String.fromCharCode(65 + optIndex)}</span>
                                    <span class="option-text">${opt}</span>
                                </li>
                            `).join('')}
                        </ul>
                        <div class="explanation-box" id="explanation-${q.id}">
                            <div class="explanation-title">✓ Correct Answer: ${String.fromCharCode(65 + q.answer)}</div>
                            ${explanationSteps}
                        </div>
                    </div>
                `;
            });

            html += `<div class="submit-section">
                <button class="submit-btn" onclick="submitExam()">Submit Exam</button>
            </div>`;

            container.innerHTML = html;
            if (window.MathJax) MathJax.typesetPromise();
        }

        function renderNavigator() {
            const container = document.getElementById('navigatorGrid');
            let html = '';
            for (let i = 1; i <= 40; i++) {
                html += `<div class="nav-item" id="nav-${i}" onclick="scrollToQuestion(${i})">${i}</div>`;
            }
            container.innerHTML = html;
        }

        function selectOption(questionIndex, optionIndex) {
            const question = questions[questionIndex];
            const options = document.querySelectorAll(`[data-question="${questionIndex}"]`);

            // Check if already answered
            if (options[0].classList.contains('correct') || options[0].classList.contains('incorrect')) {
                return; // Already answered, don't allow changing
            }

            userAnswers[questionIndex] = optionIndex;

            // Mark selected and show correct/incorrect
            options.forEach((opt, idx) => {
                opt.classList.remove('selected');
                opt.style.pointerEvents = 'none'; // Disable further clicks

                if (idx === question.answer) {
                    opt.classList.add('correct');
                } else if (idx === optionIndex && idx !== question.answer) {
                    opt.classList.add('incorrect');
                }
            });

            // Update navigator
            const nav = document.getElementById(`nav-${questionIndex + 1}`);
            nav.classList.add('answered');
            if (optionIndex === question.answer) {
                nav.classList.add('correct-review');
            } else {
                nav.classList.add('incorrect-review');
            }

            // Show explanation immediately
            const explanation = document.getElementById(`explanation-${question.id}`);
            explanation.classList.add('show');

            // Re-render MathJax in explanation
            if (window.MathJax) {
                MathJax.typesetPromise([explanation]);
            }

            updateAnsweredCount();
        }

        function updateAnsweredCount() {
            document.getElementById('answeredCount').textContent =
                userAnswers.filter(a => a !== null).length;
        }

        function scrollToQuestion(id) {
            document.getElementById(`question-${id}`).scrollIntoView({ behavior: 'smooth' });
        }

        function submitExam() {
            if (examSubmitted) return;
            examSubmitted = true;
            clearInterval(timerInterval);

            let correct = 0, incorrect = 0, unanswered = 0;
            questions.forEach((q, i) => {
                if (userAnswers[i] === null) unanswered++;
                else if (userAnswers[i] === q.answer) correct++;
                else incorrect++;
            });

            document.getElementById('examContainer').classList.remove('active');
            document.getElementById('timerBar').style.display = 'none';
            document.getElementById('resultsContainer').classList.add('active');
            document.getElementById('scoreNumber').textContent = correct;
            document.getElementById('correctCount').textContent = correct;
            document.getElementById('incorrectCount').textContent = incorrect;
            document.getElementById('unansweredCount').textContent = unanswered;
            document.getElementById('percentageScore').textContent = Math.round((correct / 40) * 100) + '%';
        }

        function reviewAnswers() {
            reviewMode = true;
            document.getElementById('resultsContainer').classList.remove('active');
            document.getElementById('examContainer').classList.add('active');
            document.getElementById('timerBar').style.display = 'flex';
            document.getElementById('timeDisplay').textContent = 'Review Mode';
            document.getElementById('timer').classList.remove('warning');

            questions.forEach((q, index) => {
                const options = document.querySelectorAll(`[data-question="${index}"]`);
                options.forEach((opt, optIndex) => {
                    opt.classList.remove('selected');
                    if (optIndex === q.answer) opt.classList.add('correct');
                    else if (userAnswers[index] === optIndex) opt.classList.add('incorrect');
                });
                document.getElementById(`explanation-${q.id}`).classList.add('show');
                const nav = document.getElementById(`nav-${q.id}`);
                nav.classList.remove('answered');
                nav.classList.add(userAnswers[index] === q.answer ? 'correct-review' :
                    userAnswers[index] !== null ? 'incorrect-review' : '');
            });
            if (window.MathJax) MathJax.typesetPromise();
        }
    </script>
</body>

</html>