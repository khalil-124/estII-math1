<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EST II Math Level 1 - Practice Exam</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Times+New+Roman&family=Outfit:wght@400;600;700&display=swap"
        rel="stylesheet">
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --est-gray: #6b6b6b;
            --est-dark: #333;
            --est-light: #f5f5f5;
            --est-border: #ccc;
            --correct: #22c55e;
            --incorrect: #ef4444;
            --selected: #3b82f6;
        }

        body {
            font-family: 'Times New Roman', Georgia, serif;
            background: #fff;
            color: #000;
            line-height: 1.6;
        }

        .est-header {
            background: linear-gradient(135deg, #888 0%, #666 100%);
            padding: 15px 40px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 4px solid #333;
        }

        .est-logo {
            font-size: 2.5rem;
            font-weight: bold;
            color: #fff;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
            letter-spacing: 2px;
        }

        .est-logo span {
            color: #ddd;
        }

        .high-school {
            font-family: 'Times New Roman', serif;
            font-size: 1.5rem;
            color: #fff;
            font-style: italic;
            letter-spacing: 3px;
        }

        .timer-bar {
            background: linear-gradient(135deg, #1e3a5f 0%, #0f2540 100%);
            padding: 12px 40px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: #fff;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        }

        .timer {
            font-family: 'Outfit', sans-serif;
            font-size: 1.5rem;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .timer-icon {
            font-size: 1.2rem;
        }

        .timer.warning {
            color: #fbbf24;
            animation: pulse 1s infinite;
        }

        @keyframes pulse {

            0%,
            100% {
                opacity: 1;
            }

            50% {
                opacity: 0.5;
            }
        }

        .progress-info {
            font-family: 'Outfit', sans-serif;
            font-size: 1rem;
        }

        .cover-page {
            max-width: 800px;
            margin: 0 auto;
            padding: 60px 40px;
            text-align: center;
        }

        .cover-title {
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 10px;
            color: #333;
        }

        .cover-subtitle {
            font-size: 1.8rem;
            color: #666;
            margin-bottom: 40px;
        }

        .cover-info {
            background: #f5f5f5;
            border: 2px solid #ccc;
            padding: 30px;
            margin: 30px 0;
            text-align: left;
        }

        .cover-info h3 {
            margin-bottom: 15px;
            color: #333;
        }

        .cover-info p {
            margin: 10px 0;
            font-size: 1.1rem;
        }

        .start-btn {
            background: linear-gradient(135deg, #1e3a5f 0%, #0f2540 100%);
            color: white;
            border: none;
            padding: 20px 60px;
            font-size: 1.3rem;
            font-family: 'Outfit', sans-serif;
            font-weight: 600;
            cursor: pointer;
            border-radius: 8px;
            transition: transform 0.2s, box-shadow 0.2s;
            margin-top: 30px;
        }

        .start-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
        }

        .exam-container {
            display: none;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px 40px;
        }

        .exam-container.active {
            display: flex;
            gap: 30px;
        }

        .questions-section {
            flex: 1;
        }

        .navigator-section {
            width: 200px;
            position: sticky;
            top: 80px;
            height: fit-content;
        }

        .question-container {
            background: #fff;
            border: 1px solid #ddd;
            padding: 25px;
            margin-bottom: 25px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        }

        .question-header {
            display: flex;
            align-items: flex-start;
            gap: 15px;
            margin-bottom: 20px;
        }

        .question-number {
            background: #333;
            color: white;
            width: 35px;
            height: 35px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            font-weight: bold;
            font-size: 0.9rem;
            flex-shrink: 0;
        }

        .question-text {
            font-size: 1.1rem;
            line-height: 1.7;
            flex: 1;
        }

        .graph-container {
            margin: 20px 0;
            text-align: center;
            background: #fff;
            border: 1px solid #ddd;
            padding: 15px;
            border-radius: 8px;
        }

        .graph-container img {
            max-width: 100%;
            height: auto;
            max-height: 300px;
        }

        .options-list {
            list-style: none;
            margin-top: 15px;
        }

        .option-item {
            display: flex;
            align-items: center;
            padding: 12px 15px;
            margin: 8px 0;
            border: 2px solid #ddd;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .option-item:hover {
            background: #f5f5f5;
            border-color: #999;
        }

        .option-item.selected {
            background: #e0e7ff;
            border-color: var(--selected);
        }

        .option-item.correct {
            background: #dcfce7;
            border-color: var(--correct);
        }

        .option-item.incorrect {
            background: #fee2e2;
            border-color: var(--incorrect);
        }

        .option-letter {
            font-weight: bold;
            margin-right: 15px;
            width: 25px;
            height: 25px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 2px solid currentColor;
            border-radius: 50%;
            font-size: 0.85rem;
        }

        .option-text {
            flex: 1;
        }

        .explanation-box {
            display: none;
            background: #f0fdf4;
            border: 1px solid #86efac;
            border-radius: 8px;
            padding: 15px;
            margin-top: 15px;
        }

        .explanation-box.show {
            display: block;
        }

        .explanation-title {
            font-weight: bold;
            color: #166534;
            margin-bottom: 8px;
        }

        .navigator-title {
            font-family: 'Outfit', sans-serif;
            font-weight: 600;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #333;
        }

        .navigator-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 5px;
        }

        .nav-item {
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 1px solid #ccc;
            border-radius: 4px;
            font-size: 0.8rem;
            cursor: pointer;
            transition: all 0.2s;
            background: white;
        }

        .nav-item:hover {
            background: #f0f0f0;
        }

        .nav-item.answered {
            background: #3b82f6;
            color: white;
            border-color: #3b82f6;
        }

        .nav-item.current {
            border: 2px solid #333;
            font-weight: bold;
        }

        .nav-item.correct-review {
            background: var(--correct);
            color: white;
        }

        .nav-item.incorrect-review {
            background: var(--incorrect);
            color: white;
        }

        .submit-section {
            text-align: center;
            padding: 30px;
            margin-top: 20px;
        }

        .submit-btn {
            background: linear-gradient(135deg, #059669 0%, #047857 100%);
            color: white;
            border: none;
            padding: 15px 50px;
            font-size: 1.2rem;
            font-family: 'Outfit', sans-serif;
            font-weight: 600;
            cursor: pointer;
            border-radius: 8px;
            transition: transform 0.2s;
        }

        .submit-btn:hover {
            transform: translateY(-2px);
        }

        .results-container {
            display: none;
            max-width: 600px;
            margin: 50px auto;
            padding: 40px;
            text-align: center;
            background: #f5f5f5;
            border-radius: 12px;
        }

        .results-container.active {
            display: block;
        }

        .score-circle {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            background: linear-gradient(135deg, #1e3a5f 0%, #0f2540 100%);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            margin: 0 auto 30px;
            color: white;
        }

        .score-number {
            font-size: 2.5rem;
            font-weight: bold;
        }

        .score-label {
            font-size: 0.9rem;
            opacity: 0.8;
        }

        .results-details {
            margin: 30px 0;
        }

        .result-row {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid #ddd;
        }

        .review-btn {
            background: var(--selected);
            color: white;
            border: none;
            padding: 12px 40px;
            font-size: 1rem;
            font-family: 'Outfit', sans-serif;
            cursor: pointer;
            border-radius: 8px;
            margin-top: 20px;
        }

        .est-footer {
            background: #333;
            color: #fff;
            padding: 15px 40px;
            display: flex;
            justify-content: space-between;
            margin-top: 40px;
        }
    </style>
</head>

<body>
    <header class="est-header">
        <div class="est-logo">est<span>°</span></div>
        <div class="high-school">HIGH SCHOOL</div>
    </header>

    <div class="cover-page" id="coverPage">
        <h1 class="cover-title">EST II Mathematics</h1>
        <h2 class="cover-subtitle">Level 1 - Practice Exam</h2>

        <div class="cover-info">
            <h3>Exam Information</h3>
            <p><strong>Total Questions:</strong> 40 multiple-choice questions</p>
            <p><strong>Time Allowed:</strong> 60 minutes</p>
            <p><strong>Calculator:</strong> Scientific or graphing calculators are permitted</p>
            <p><strong>Scoring:</strong> Each correct answer is worth 1 point</p>
        </div>

        <div class="cover-info">
            <h3>Instructions</h3>
            <p>• Read each question carefully before selecting your answer</p>
            <p>• You may skip questions and return to them later</p>
            <p>• Use the question navigator to track your progress</p>
            <p>• Click "Submit Exam" when you are finished</p>
        </div>

        <button class="start-btn" onclick="startExam()">Start Exam</button>
    </div>

    <div class="timer-bar" id="timerBar" style="display: none;">
        <div class="timer" id="timer">
            <span class="timer-icon">⏱</span>
            <span id="timeDisplay">60:00</span>
        </div>
        <div class="progress-info">
            <span id="answeredCount">0</span> / 40 Answered
        </div>
    </div>

    <div class="exam-container" id="examContainer">
        <div class="questions-section" id="questionsSection"></div>
        <div class="navigator-section">
            <div class="navigator-title">Questions</div>
            <div class="navigator-grid" id="navigatorGrid"></div>
        </div>
    </div>

    <div class="results-container" id="resultsContainer">
        <h2>Exam Complete!</h2>
        <div class="score-circle">
            <div class="score-number" id="scoreNumber">0</div>
            <div class="score-label">out of 40</div>
        </div>
        <div class="results-details">
            <div class="result-row">
                <span>Correct Answers:</span>
                <span id="correctCount">0</span>
            </div>
            <div class="result-row">
                <span>Incorrect Answers:</span>
                <span id="incorrectCount">0</span>
            </div>
            <div class="result-row">
                <span>Unanswered:</span>
                <span id="unansweredCount">0</span>
            </div>
            <div class="result-row">
                <span>Percentage:</span>
                <span id="percentageScore">0%</span>
            </div>
        </div>
        <button class="review-btn" onclick="reviewAnswers()">Review Answers</button>
    </div>

    <footer class="est-footer">
        <span>ESTII-HS Math L1</span>
        <span>Practice Exam</span>
        <span>2026</span>
    </footer>

    <script>
        // ===== 40 QUESTIONS MATCHING SAMPLE EXAM PATTERN EXACTLY =====
        // Questions are MIXED by topic (not grouped) - exactly like the sample
        // Pattern matches: Q1=Graph, Q2=Polynomial, Q3=Counting, Q4=Trig, etc.

        const questions = [
            // Q1: Polynomial Graph Analysis (Algebra) - MATCHES SAMPLE Q1
            {
                id: 1,
                question: "Which of the following statements can be true regarding the polynomial function \\(P\\) represented in the graph above?",
                hasGraph: true,
                graphImage: "images/q1_cubic.png",
                options: [
                    "\\(-1\\) is a root of \\(P\\).",
                    "The constant term of \\(P\\) is positive.",
                    "The degree of the function is 2.",
                    "The function \\(P\\) is increasing over \\(\\mathbb{R}\\).",
                    "The value of \\(P\\) at zero is equal to the value of \\(P\\) at \\(-1\\)."
                ],
                answer: 0,
                explanation: "Looking at the graph, the curve crosses the x-axis at x = -1, making -1 a root of P."
            },
            // Q2: Polynomial Properties (Algebra) - MATCHES SAMPLE Q2
            {
                id: 2,
                question: "The graph of a function \\(g\\) cuts the x-axis exactly two times and has a positive y-intercept. Which of the following could be the equation of \\(g(x)\\)?",
                options: [
                    "\\(g(x) = (x-2)(x+3)\\)",
                    "\\(g(x) = -(x-1)(x+2)\\)",
                    "\\(g(x) = x(x-3)(x+3)\\)",
                    "\\(g(x) = (x^2 + 1)(x-2)\\)",
                    "\\(g(x) = (x+1)(x-4)\\)"
                ],
                answer: 1,
                explanation: "Step 1: We need exactly 2 x-intercepts and positive y-intercept.\nStep 2: Check B: g(x) = -(x-1)(x+2) has roots at x=1, x=-2 (exactly 2 roots ✓).\nStep 3: g(0) = -(0-1)(0+2) = -(-1)(2) = 2 > 0. ✓\nStep 4: Check A: g(0) = (0-2)(0+3) = -6 < 0. ✗\nStep 5: Answer is B because it has 2 real roots and g(0) = 2 > 0."
            },
            // Q3: Probability/Counting (Statistics) - MATCHES SAMPLE Q3
            {
                id: 3,
                question: "How many different five-letter arrangements can be made using all the letters of the word DREAM if the two vowels (E and A) must be next to each other?",
                options: [
                    "12",
                    "24",
                    "48",
                    "60",
                    "120"
                ],
                answer: 2,
                explanation: "Step 1: DREAM has 5 letters: D, R, E, A, M. The vowels are E and A.\nStep 2: Treat EA as one unit. Now we have 4 units: {EA}, D, R, M.\nStep 3: These 4 units can be arranged in 4! = 24 ways.\nStep 4: The vowels E and A can swap positions within their unit: 2! = 2 ways (EA or AE).\nStep 5: Total arrangements = 24 × 2 = 48."
            },
            // Q4: Trigonometry Identity - MATCHES SAMPLE Q4
            {
                id: 4,
                question: "Given that \\(\\sin^2\\theta + \\cos^2\\theta = 1\\), what is the simplified form of \\(\\frac{\\sin^2\\theta}{1 + \\cos\\theta}\\)?",
                options: [
                    "\\(1 - \\cos\\theta\\)",
                    "\\(1 + \\cos\\theta\\)",
                    "\\(\\sin\\theta\\)",
                    "\\(\\cos\\theta\\)",
                    "\\(\\tan\\theta\\)"
                ],
                answer: 0,
                explanation: "sin²θ = 1 - cos²θ = (1-cosθ)(1+cosθ). So sin²θ/(1+cosθ) = (1-cosθ)(1+cosθ)/(1+cosθ) = 1-cosθ."
            },
            // Q5: Geometric Sequence (Algebra) - MATCHES SAMPLE Q5
            {
                id: 5,
                question: "In a geometric sequence, if \\(a_1 = 3\\) and \\(a_4 = 81\\), what is the common ratio \\(r\\)?",
                options: [
                    "2",
                    "3",
                    "4",
                    "6",
                    "9"
                ],
                answer: 1,
                explanation: "a₄ = a₁ × r³. So 81 = 3 × r³, r³ = 27, r = 3."
            },
            // Q6: Ratio Problem (Numerations) - MATCHES SAMPLE Q6
            {
                id: 6,
                question: "If \\(\\frac{x}{y} = \\frac{3}{4}\\) and \\(\\frac{y}{z} = \\frac{2}{5}\\), what is \\(\\frac{x}{z}\\)?",
                options: [
                    "\\(\\frac{3}{10}\\)",
                    "\\(\\frac{6}{20}\\)",
                    "\\(\\frac{5}{6}\\)",
                    "\\(\\frac{6}{5}\\)",
                    "\\(\\frac{3}{5}\\)"
                ],
                answer: 0,
                explanation: "x/z = (x/y) × (y/z) = (3/4) × (2/5) = 6/20 = 3/10."
            },
            // Q7: Parallel Lines - Angles (Geometry) - MATCHES SAMPLE Q7
            {
                id: 7,
                question: "Two parallel lines are cut by a transversal. If one of the alternate interior angles measures \\((2x + 15)°\\) and the other measures \\((3x - 10)°\\), what is the value of \\(x\\)?",
                options: [
                    "5",
                    "15",
                    "25",
                    "35",
                    "45"
                ],
                answer: 2,
                explanation: "Alternate interior angles are equal: 2x + 15 = 3x - 10. So 25 = x."
            },
            // Q8: Coordinate Geometry with Graph - MATCHES SAMPLE Q8
            {
                id: 8,
                question: "The figure above shows four congruent right triangles on a coordinate plane. Each triangle has legs of length 3 and 4. What is the sum of the perimeters of all four triangles?",
                hasGraph: true,
                graphImage: "images/q8_triangles.png",
                options: [
                    "24",
                    "36",
                    "48",
                    "60",
                    "72"
                ],
                answer: 2,
                explanation: "Step 1: Each right triangle has legs of length 3 and 4.\nStep 2: Find the hypotenuse using Pythagorean theorem: c² = 3² + 4² = 9 + 16 = 25.\nStep 3: So c = √25 = 5.\nStep 4: Perimeter of one triangle = 3 + 4 + 5 = 12.\nStep 5: Sum of perimeters of 4 triangles = 4 × 12 = 48."
            },
            // Q9: Parabola Vertex Distance (Algebra) - MATCHES SAMPLE Q9
            {
                id: 9,
                question: "What is the distance between the vertex of \\(y = 2x^2 + 4x - 1\\) and the point of coordinates \\((9, 7)\\)?",
                options: [
                    "\\(5\\sqrt{2}\\)",
                    "\\(10\\sqrt{2}\\)",
                    "\\(20\\sqrt{2}\\)",
                    "30",
                    "31"
                ],
                answer: 1,
                explanation: "Vertex: x = -b/2a = -4/4 = -1. y = 2(1) - 4 - 1 = -3. Vertex = (-1, -3). Distance to (9,7) = √[(10)² + (10)²] = √200 = 10√2."
            },
            // Q10: Exponential Equation (Algebra) - MATCHES SAMPLE Q10
            {
                id: 10,
                question: "If \\(4^{2x} = 8^{x+1}\\), what is the value of \\(x\\)?",
                options: [
                    "1",
                    "2",
                    "3",
                    "4",
                    "6"
                ],
                answer: 2,
                explanation: "Step 1: Rewrite with same base. 4 = 2² and 8 = 2³.\nStep 2: (2²)^{2x} = (2³)^{x+1}\nStep 3: 2^{4x} = 2^{3(x+1)} = 2^{3x+3}\nStep 4: Since bases are equal, exponents must be equal: 4x = 3x + 3\nStep 5: Solving: 4x - 3x = 3, so x = 3."
            },
            // Q11: Parallel Line Equation (Coordinate) - MATCHES SAMPLE Q11
            {
                id: 11,
                question: "Line \\(d\\) has equation \\(2x - 4y = 8\\). What is the equation of the line parallel to \\(d\\) passing through point \\(M(2, -5)\\)?",
                options: [
                    "\\(y = \\frac{1}{2}x - 6\\)",
                    "\\(y = \\frac{1}{2}x + 6\\)",
                    "\\(y = 2x - 9\\)",
                    "\\(y = -2x - 1\\)",
                    "\\(y = \\frac{1}{2}x - 4\\)"
                ],
                answer: 0,
                explanation: "Step 1: Find slope of line d: 2x - 4y = 8 → -4y = -2x + 8 → y = (1/2)x - 2.\nStep 2: Slope of d is m = 1/2. Parallel lines have equal slopes.\nStep 3: Use point-slope form with M(2, -5): y - (-5) = (1/2)(x - 2).\nStep 4: y + 5 = (1/2)x - 1\nStep 5: y = (1/2)x - 6."
            },
            // Q12: Statistics - Range and Median (Statistics) - MATCHES SAMPLE Q12
            {
                id: 12,
                question: "For the data set \\(\\{3, 7, 9, 2, 11, 13, 14\\}\\), what is the product of the range and the median?",
                options: [
                    "9",
                    "21",
                    "100",
                    "108",
                    "200"
                ],
                answer: 3,
                explanation: "Step 1: Order the data: {2, 3, 7, 9, 11, 13, 14}.\nStep 2: Range = Maximum - Minimum = 14 - 2 = 12.\nStep 3: Median = middle value. With 7 numbers, median is the 4th value = 9.\nStep 4: Product = Range × Median = 12 × 9 = 108.\nStep 5: The answer is 108."
            },
            // Q13: Average Word Problem (Statistics) - MATCHES SAMPLE Q13
            {
                id: 13,
                question: "In a basketball game, a team of 8 players scored a total of 122 points. What was the average number of points scored per player?",
                options: [
                    "13.65",
                    "14.50",
                    "14.75",
                    "15.20",
                    "15.25"
                ],
                answer: 4,
                explanation: "Average = 122 ÷ 8 = 15.25 points per player."
            },
            // Q14: Parallelogram Area (Geometry) - MATCHES SAMPLE Q14
            {
                id: 14,
                question: "\\(ABFD\\) is a parallelogram with base \\(AB = 5\\) m and height of 2 m. Let \\(M\\) be the midpoint of segment \\(\\overline{DF}\\) and \\(T\\) the symmetric point of \\(B\\) with respect to \\(M\\). What is the area of triangle \\(ABT\\)?",
                options: [
                    "2.5",
                    "5",
                    "7.5",
                    "10",
                    "15"
                ],
                answer: 1,
                explanation: "Area of parallelogram = 5 × 2 = 10. Triangle ABT has the same base and height, so area = 10/2 = 5."
            },
            // Q15: Pythagorean Multi-step (Geometry) - MATCHES SAMPLE Q15
            {
                id: 15,
                question: "In rectangle \\(PQRS\\), \\(PQ = 8\\) and \\(QR = 6\\). If point \\(T\\) lies on \\(\\overline{QR}\\) such that \\(PT \\perp PR\\), what is the length of \\(PT\\)?",
                options: [
                    "\\(\\frac{48}{10}\\)",
                    "\\(\\frac{36}{10}\\)",
                    "\\(\\frac{24}{5}\\)",
                    "\\(\\frac{18}{5}\\)",
                    "\\(\\frac{12}{5}\\)"
                ],
                answer: 2,
                explanation: "PR = √(64+36) = 10. Area of △PQR = (1/2)(8)(6) = 24. Also = (1/2)(PR)(PT) = 5PT. So PT = 24/5."
            },
            // Q16: Rational Function Domain (Algebra) - MATCHES SAMPLE Q16
            {
                id: 16,
                question: "For what value(s) of \\(x\\) is the expression \\(\\frac{x^2 - 9}{x^2 - 4x + 3}\\) undefined?",
                options: [
                    "\\(x = 1\\) only",
                    "\\(x = 3\\) only",
                    "\\(x = 1\\) and \\(x = 3\\)",
                    "\\(x = -3\\) and \\(x = 3\\)",
                    "\\(x = -1\\) and \\(x = 1\\)"
                ],
                answer: 2,
                explanation: "Denominator = (x-1)(x-3) = 0 when x = 1 or x = 3."
            },
            // Q17: Circle - Inscribed Angle (Geometry) - WITH GRAPH
            {
                id: 17,
                question: "In the figure above, point \\(O\\) is the center of the circle, and \\(\\angle AOB = 120°\\). What is the measure of inscribed angle \\(\\angle ACB\\)?",
                hasGraph: true,
                graphImage: "images/q17_circle.png",
                options: [
                    "30°",
                    "45°",
                    "60°",
                    "90°",
                    "120°"
                ],
                answer: 2,
                explanation: "Step 1: Identify the relationship between central and inscribed angles.\\nStep 2: The Inscribed Angle Theorem states: an inscribed angle is half the central angle that subtends the same arc.\\nStep 3: ∠AOB is the central angle = 120°.\\nStep 4: ∠ACB is the inscribed angle subtending the same arc AB.\\nStep 5: ∠ACB = ∠AOB / 2 = 120° / 2 = 60°."
            },
            // Q18: Quadratic Roots - Vieta (Algebra) - ROMAN NUMERAL FORMAT
            {
                id: 18,
                question: "The quadratic equation \\(x^2 - 6x + k = 0\\) has roots \\(r\\) and \\(s\\). Which of the following statements must be true?\\n\\nI. \\(r + s = 6\\)\\nII. \\(r \\cdot s = k\\)\\nIII. If \\(k = 9\\), then \\(r = s\\)",
                options: [
                    "I only",
                    "I and II only",
                    "II and III only",
                    "I, II, and III",
                    "None of the above"
                ],
                answer: 3,
                explanation: "Step 1: By Vieta's formulas: sum of roots = -b/a = 6, so r + s = 6. (I is TRUE ✓)\\nStep 2: Product of roots = c/a = k/1 = k, so r·s = k. (II is TRUE ✓)\\nStep 3: If k = 9, discriminant = 36 - 4(9) = 0, so there's exactly one root (r = s = 3). (III is TRUE ✓)\\nStep 4: All three statements are true.\\nStep 5: Answer is D: I, II, and III."
            },
            // Q19: Linear Equations (Algebra)
            {
                id: 19,
                question: "If \\(4(x - 3) + 2 = 3(x + 5)\\), what is the value of \\(x\\)?",
                options: [
                    "15",
                    "19",
                    "23",
                    "25",
                    "27"
                ],
                answer: 3,
                explanation: "Step 1: Expand the left side: 4(x - 3) + 2 = 4x - 12 + 2 = 4x - 10.\nStep 2: Expand the right side: 3(x + 5) = 3x + 15.\nStep 3: Set equal: 4x - 10 = 3x + 15.\nStep 4: Subtract 3x: x - 10 = 15.\nStep 5: Add 10: x = 25. Verify: 4(25-3)+2 = 4(22)+2 = 90. 3(25+5) = 90. ✓"
            },
            // Q20: Permutations with Constraints (Statistics)
            {
                id: 20,
                question: "Six students \\((A, B, C, D, E, F)\\) are to be seated in a row. If student \\(A\\) and student \\(B\\) must sit at the two ends, how many different arrangements are possible?",
                options: [
                    "24",
                    "48",
                    "72",
                    "96",
                    "120"
                ],
                answer: 1,
                explanation: "A and B at ends: 2 ways. Remaining 4 students in 4! = 24 ways. Total = 2 × 24 = 48."
            },
            // Q21: Function Transformation Graph (Algebra) - WITH GRAPH
            {
                id: 21,
                question: "The figure above shows the graph of a function \\(f\\). The function \\(g\\) is defined as \\(g(x) = 1 - f(x)\\). Which of the following is the maximum value of \\(g(x)\\) over \\([0, 4]\\)?",
                hasGraph: true,
                graphImage: "images/q21_parabola.png",
                options: [
                    "\\(-3\\)",
                    "0",
                    "1",
                    "3",
                    "4"
                ],
                answer: 3,
                explanation: "If f has minimum value -2 on [0,4], then g = 1 - f has maximum = 1 - (-2) = 3."
            },
            // Q22: Regular Polygon Angles (Geometry)
            {
                id: 22,
                question: "What is the measure of each interior angle of a regular decagon (10 sides)?",
                options: [
                    "\\(120°\\)",
                    "\\(135°\\)",
                    "\\(144°\\)",
                    "\\(150°\\)",
                    "\\(162°\\)"
                ],
                answer: 2,
                explanation: "Interior angle = (n-2)×180°/n = (10-2)×180°/10 = 1440°/10 = 144°."
            },
            // Q23: Quadratic - Shared Intercepts (Algebra)
            {
                id: 23,
                question: "The parabolas \\(y = x^2 - 16\\) and \\(y = -x^2 + 16\\) share the same x-intercepts. What is the distance between these x-intercepts?",
                options: [
                    "4",
                    "6",
                    "8",
                    "10",
                    "16"
                ],
                answer: 2,
                explanation: "x² - 16 = 0 gives x = ±4. Distance = 4 - (-4) = 8."
            },
            // Q24: Linear Systems - k Value (Algebra)
            {
                id: 24,
                question: "For what value of \\(k\\) does the system \\(3x + 2y = 9\\) and \\(6x + 4y = k\\) have infinitely many solutions?",
                options: [
                    "9",
                    "12",
                    "15",
                    "18",
                    "21"
                ],
                answer: 3,
                explanation: "For infinite solutions, equations must be multiples. 6x + 4y = 2(3x + 2y) = 2(9) = 18. So k = 18."
            },
            // Q25: Perpendicular Slope (Coordinate)
            {
                id: 25,
                question: "What is the slope of a line perpendicular to \\(5x - 2y = 8\\)?",
                options: [
                    "\\(\\frac{5}{2}\\)",
                    "\\(-\\frac{5}{2}\\)",
                    "\\(\\frac{2}{5}\\)",
                    "\\(-\\frac{2}{5}\\)",
                    "\\(-2\\)"
                ],
                answer: 3,
                explanation: "Rewrite: 2y = 5x - 8, y = (5/2)x - 4. Slope = 5/2. Perpendicular slope = -2/5."
            },
            // Q26: Exponent Simplification (Numerations)
            {
                id: 26,
                question: "If \\(4^a = 64\\) and \\(2^b = 16\\), what is the value of \\(a + b\\)?",
                options: [
                    "5",
                    "6",
                    "7",
                    "8",
                    "9"
                ],
                answer: 2,
                explanation: "4^a = 64 = 4³, so a = 3. 2^b = 16 = 2⁴, so b = 4. a + b = 7."
            },
            // Q27: Circle Chord-Radius (Geometry)
            {
                id: 27,
                question: "A chord of length 10 is at a distance of 12 from the center of a circle. What is the radius of the circle?",
                options: [
                    "11",
                    "12",
                    "13",
                    "14",
                    "15"
                ],
                answer: 2,
                explanation: "Half chord = 5. r² = 5² + 12² = 25 + 144 = 169. r = 13."
            },
            // Q28: Arithmetic Sequence (Algebra)
            {
                id: 28,
                question: "In an arithmetic sequence, the first term is 5 and the common difference is 3. What is the 15th term?",
                options: [
                    "45",
                    "47",
                    "50",
                    "52",
                    "55"
                ],
                answer: 1,
                explanation: "a₁₅ = a₁ + (n-1)d = 5 + (14)(3) = 5 + 42 = 47."
            },
            // Q29: Cross-multiplication Equation (Numerations)
            {
                id: 29,
                question: "If \\(\\frac{x + 5}{3} = \\frac{x - 3}{2}\\), what is the value of \\(x\\)?",
                options: [
                    "11",
                    "15",
                    "17",
                    "19",
                    "21"
                ],
                answer: 3,
                explanation: "2(x + 5) = 3(x - 3). 2x + 10 = 3x - 9. 19 = x."
            },
            // Q30: Octagon Angles (Geometry)
            {
                id: 30,
                question: "What is the measure of each exterior angle of a regular octagon?",
                options: [
                    "\\(30°\\)",
                    "\\(36°\\)",
                    "\\(40°\\)",
                    "\\(45°\\)",
                    "\\(60°\\)"
                ],
                answer: 3,
                explanation: "Exterior angle = 360°/n = 360°/8 = 45°."
            },
            // Q31: Probability - Coin Flip (Statistics)
            {
                id: 31,
                question: "A fair coin is flipped 4 times. What is the probability of getting exactly 3 heads?",
                options: [
                    "\\(\\frac{1}{16}\\)",
                    "\\(\\frac{1}{8}\\)",
                    "\\(\\frac{1}{4}\\)",
                    "\\(\\frac{3}{8}\\)",
                    "\\(\\frac{1}{2}\\)"
                ],
                answer: 2,
                explanation: "P(3H) = C(4,3) × (1/2)⁴ = 4/16 = 1/4."
            },
            // Q32: Work Rate Problem (Numerations)
            {
                id: 32,
                question: "If 6 workers can complete a project in 10 days, how many days would it take 15 workers to complete the same project?",
                options: [
                    "2",
                    "3",
                    "4",
                    "5",
                    "6"
                ],
                answer: 2,
                explanation: "Work = 6 × 10 = 60 worker-days. Time for 15 workers = 60/15 = 4 days."
            },
            // Q33: Trig Right Triangle (Trigonometry)
            {
                id: 33,
                question: "In right triangle \\(ABC\\) with right angle at \\(C\\), if \\(\\cos A = \\frac{4}{5}\\), what is \\(\\tan A\\)?",
                options: [
                    "\\(\\frac{3}{4}\\)",
                    "\\(\\frac{4}{3}\\)",
                    "\\(\\frac{3}{5}\\)",
                    "\\(\\frac{5}{4}\\)",
                    "\\(\\frac{5}{3}\\)"
                ],
                answer: 0,
                explanation: "cos A = 4/5 means adjacent = 4, hypotenuse = 5. Opposite = 3 (by Pythagorean). tan A = 3/4."
            },
            // Q34: Circle Tangent Property (Geometry)
            {
                id: 34,
                question: "From an external point \\(P\\), two tangent lines are drawn to a circle, touching it at points \\(A\\) and \\(B\\). If \\(PA = 8\\), what is \\(PB\\)?",
                options: [
                    "4",
                    "6",
                    "8",
                    "10",
                    "Cannot be determined"
                ],
                answer: 2,
                explanation: "Tangent segments from an external point are equal. PB = PA = 8."
            },
            // Q35: Parallelogram Angles (Geometry)
            {
                id: 35,
                question: "In parallelogram \\(WXYZ\\), angle \\(W\\) measures \\(65°\\). What is the measure of angle \\(Y\\)?",
                options: [
                    "\\(25°\\)",
                    "\\(65°\\)",
                    "\\(115°\\)",
                    "\\(130°\\)",
                    "\\(180°\\)"
                ],
                answer: 1,
                explanation: "Opposite angles in a parallelogram are equal. Angle Y = angle W = 65°."
            },
            // Q36: Absolute Value Inequality (Algebra)
            {
                id: 36,
                question: "What is the solution to \\(|3x - 6| < 9\\)?",
                options: [
                    "\\(-1 < x < 5\\)",
                    "\\(x < -1\\) or \\(x > 5\\)",
                    "\\(-3 < x < 3\\)",
                    "\\(-5 < x < 1\\)",
                    "All real numbers"
                ],
                answer: 0,
                explanation: "|3x - 6| < 9 means -9 < 3x - 6 < 9. So -3 < 3x < 15, giving -1 < x < 5."
            },
            // Q37: Inequality Solution (Algebra)
            {
                id: 37,
                question: "Which of the following points lies in the solution region of \\(3x - y > 4\\)?",
                options: [
                    "\\((1, 1)\\)",
                    "\\((2, 1)\\)",
                    "\\((0, 0)\\)",
                    "\\((1, 0)\\)",
                    "\\((2, 3)\\)"
                ],
                answer: 1,
                explanation: "Test (2,1): 3(2) - 1 = 5 > 4. ✓ This point satisfies the inequality."
            },
            // Q38: Pie Chart Statistics (Statistics) - WITH GRAPH
            {
                id: 38,
                question: "The pie chart above shows the distribution of 300 employees by department. If Sales represents 40% and Marketing represents 20%, how many employees work in either Sales or Marketing?",
                hasGraph: true,
                graphImage: "images/q38_piechart.png",
                options: [
                    "120",
                    "150",
                    "180",
                    "200",
                    "240"
                ],
                answer: 2,
                explanation: "Sales = 40% of 300 = 120. Marketing = 20% of 300 = 60. Total = 180."
            },
            // Q39: Isosceles Triangle (Geometry)
            {
                id: 39,
                question: "In isosceles triangle \\(DEF\\), \\(DE = EF\\) and angle \\(E\\) measures \\(50°\\). What is the measure of angle \\(D\\)?",
                options: [
                    "\\(50°\\)",
                    "\\(55°\\)",
                    "\\(60°\\)",
                    "\\(65°\\)",
                    "\\(70°\\)"
                ],
                answer: 3,
                explanation: "Sum of angles = 180°. Angle D = Angle F (base angles). 50° + 2(D) = 180°. 2D = 130°. D = 65°."
            },
            // Q40: Quadratic Discriminant (Algebra) - ROMAN NUMERAL FORMAT
            {
                id: 40,
                question: "For the equation \\(x^2 + bx + 9 = 0\\), which of the following values of \\(b\\) result in two distinct real solutions?\\n\\nI. \\(b = 5\\)\\nII. \\(b = 6\\)\\nIII. \\(b = 7\\)",
                options: [
                    "I only",
                    "II only",
                    "III only",
                    "I and III only",
                    "I, II, and III"
                ],
                answer: 2,
                explanation: "Step 1: For two distinct real solutions, discriminant > 0: b² - 4ac > 0, so b² - 36 > 0.\\nStep 2: This means b² > 36, so |b| > 6.\\nStep 3: Check I: b = 5, |5| = 5 < 6. (FALSE ✗)\\nStep 4: Check II: b = 6, |6| = 6, not > 6. (FALSE ✗)\\nStep 5: Check III: b = 7, |7| = 7 > 6. (TRUE ✓) Answer is C: III only."
            }
        ];

        // State
        let timeRemaining = 60 * 60;
        let timerInterval = null;
        let userAnswers = new Array(40).fill(null);
        let examSubmitted = false;
        let reviewMode = false;

        function startExam() {
            document.getElementById('coverPage').style.display = 'none';
            document.getElementById('timerBar').style.display = 'flex';
            document.getElementById('examContainer').classList.add('active');
            renderQuestions();
            renderNavigator();
            startTimer();
        }

        function startTimer() {
            timerInterval = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                if (timeRemaining <= 0) {
                    clearInterval(timerInterval);
                    submitExam();
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timeDisplay').textContent =
                `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            if (timeRemaining <= 300) {
                document.getElementById('timer').classList.add('warning');
            }
        }

        function renderGraph(imagePath) {
            return `<div class="graph-container">
                <img src="${imagePath}" alt="Graph">
            </div>`;
        }

        function renderQuestions() {
            const container = document.getElementById('questionsSection');
            let html = '';

            questions.forEach((q, index) => {
                const graphHtml = q.hasGraph ? renderGraph(q.graphImage) : '';
                html += `
                    <div class="question-container" id="question-${q.id}">
                        <div class="question-header">
                            <div class="question-number">${q.id}</div>
                            <div class="question-text">${q.question}</div>
                        </div>
                        ${graphHtml}
                        <ul class="options-list">
                            ${q.options.map((opt, optIndex) => `
                                <li class="option-item" data-question="${index}" data-option="${optIndex}" onclick="selectOption(${index}, ${optIndex})">
                                    <span class="option-letter">${String.fromCharCode(65 + optIndex)}</span>
                                    <span class="option-text">${opt}</span>
                                </li>
                            `).join('')}
                        </ul>
                        <div class="explanation-box" id="explanation-${q.id}">
                            <div class="explanation-title">Explanation:</div>
                            <div>${q.explanation}</div>
                        </div>
                    </div>
                `;
            });

            html += `<div class="submit-section">
                <button class="submit-btn" onclick="submitExam()">Submit Exam</button>
            </div>`;

            container.innerHTML = html;
            if (window.MathJax) MathJax.typesetPromise();
        }

        function renderNavigator() {
            const container = document.getElementById('navigatorGrid');
            let html = '';
            for (let i = 1; i <= 40; i++) {
                html += `<div class="nav-item" id="nav-${i}" onclick="scrollToQuestion(${i})">${i}</div>`;
            }
            container.innerHTML = html;
        }

        function selectOption(questionIndex, optionIndex) {
            if (examSubmitted) return;
            userAnswers[questionIndex] = optionIndex;
            const options = document.querySelectorAll(`[data-question="${questionIndex}"]`);
            options.forEach(opt => opt.classList.remove('selected'));
            options[optionIndex].classList.add('selected');
            document.getElementById(`nav-${questionIndex + 1}`).classList.add('answered');
            updateAnsweredCount();
        }

        function updateAnsweredCount() {
            document.getElementById('answeredCount').textContent =
                userAnswers.filter(a => a !== null).length;
        }

        function scrollToQuestion(id) {
            document.getElementById(`question-${id}`).scrollIntoView({ behavior: 'smooth' });
        }

        function submitExam() {
            if (examSubmitted) return;
            examSubmitted = true;
            clearInterval(timerInterval);

            let correct = 0, incorrect = 0, unanswered = 0;
            questions.forEach((q, i) => {
                if (userAnswers[i] === null) unanswered++;
                else if (userAnswers[i] === q.answer) correct++;
                else incorrect++;
            });

            document.getElementById('examContainer').classList.remove('active');
            document.getElementById('timerBar').style.display = 'none';
            document.getElementById('resultsContainer').classList.add('active');
            document.getElementById('scoreNumber').textContent = correct;
            document.getElementById('correctCount').textContent = correct;
            document.getElementById('incorrectCount').textContent = incorrect;
            document.getElementById('unansweredCount').textContent = unanswered;
            document.getElementById('percentageScore').textContent = Math.round((correct / 40) * 100) + '%';
        }

        function reviewAnswers() {
            reviewMode = true;
            document.getElementById('resultsContainer').classList.remove('active');
            document.getElementById('examContainer').classList.add('active');
            document.getElementById('timerBar').style.display = 'flex';
            document.getElementById('timeDisplay').textContent = 'Review Mode';
            document.getElementById('timer').classList.remove('warning');

            questions.forEach((q, index) => {
                const options = document.querySelectorAll(`[data-question="${index}"]`);
                options.forEach((opt, optIndex) => {
                    opt.classList.remove('selected');
                    if (optIndex === q.answer) opt.classList.add('correct');
                    else if (userAnswers[index] === optIndex) opt.classList.add('incorrect');
                });
                document.getElementById(`explanation-${q.id}`).classList.add('show');
                const nav = document.getElementById(`nav-${q.id}`);
                nav.classList.remove('answered');
                nav.classList.add(userAnswers[index] === q.answer ? 'correct-review' :
                    userAnswers[index] !== null ? 'incorrect-review' : '');
            });
            if (window.MathJax) MathJax.typesetPromise();
        }
    </script>
</body>

</html>